<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>收货地址管理</title>
<link href="css/common.css" rel="stylesheet" />
<link href="css/index.css" rel="stylesheet" />

</head>

<body>
<!--头部-->
<div class="top">
	<div class="top_1">
    	<div class="top_2"><img src="images/logo.png"/></div>
    	<div class="sunnva">heyang 您好! <a href="#">修改密码</a> <a href="#">退出登录</a></div>
    </div>
</div>
<!--头部-->


<!--主框架-->
<div class="ymfw-container">

	<!--用码服务左边-->
	<div class="ymfw-left">
      <!--左边1--> 
        <div class="ymfw-left_1">
            <h2><p><img src="images/ymfw-left_1.png"/></p> 
            <p class="ymfw-left_2">在线签约</p></h2>
            <ul>
              <li><a href="zxcy_htbi.html" >合同备案</a></li>
              <li><a href="zxcy_ddgl.html">订单管理 </a></li>
              <li><a href="zxcy_czgl.html">充值管理</a></li>
            </ul>
            
        </div>
         <!--左边1--> 
         <!--左边2--> 
        <div class="ymfw-left_1">
            <h2><p><img src="images/ymfw-left_1.png"/></p> 
            <p class="ymfw-left_2">码管理</p></h2>
            <ul>
              <li><a href="ddgl.html">订单管理</a></li>
              <li><a href="mzdcx.html">码状态查询</a></li>
            </ul>
            
        </div>
         <!--左边2--> 
         <!--左边3--> 
        <div class="ymfw-left_1">
            <h2><p><img src="images/ymfw-left_1.png"/></p> 
            <p class="ymfw-left_2">业务管理</p></h2>
            <ul>
              <li><a href="fygl.html">返佣管理</a></li>
              <li><a href="shdzgl.html" class="ymfw-left_5">收货地址管理</a></li>
              <li><a href="wtfwsh.html">委托服务审核</a></li>
            </ul>
            
        </div>
         <!--左边3--> 
          <!--左边4--> 
        <div class="ymfw-left_1" style="border-bottom:0;">
            <h2><p><img src="images/ymfw-left_1.png"/></p> 
            <p class="ymfw-left_2">真知码数据采集管理</p></h2>
            <ul>
              <li><a href="zzmsysjgl.html">真知码数据采集管理</a></li>
            </ul>
            
        </div>
         <!--左边4-->   
  </div>	
    <!--用码服务左边-->  
    
    <!--用码服务右边-->
	<div class="ymfw-right">
		<div class="ymfw-right_1">收货地址管理</div>

        <div class=" ymfw-right-zgj">
        <div class="yyzx">
                <p class="yyzx_ny">
                    <a href ="javascript:void(0)" class="btn_code">新增收货地址
                    </a>  
                </p>
                
            </div>
           <div class="yyzx_lr" style="border-top: 1px solid #ddd; border-left: 1px solid #ddd;">
                <table>
                    <tr>
                        <th width="100">收货人</th>
                        <th width="170">所在地区 </th>
                        <th width="261">详细地址 </th>
                        <th width="110">邮政编码 </th>
                        <th width="120">联系电话 </th>
                        <th width="200">操作</th>
                    </tr>
                    <tr>
                        <td>陈欢欢</td>
                        <td>广东省广州市萝岗区区</td>
                        <td><p class="qy_shdz" title="科学大道162号B2栋5楼<">科学大道162号B2栋5楼</p></td>
                        <td>510000</td>
                        <td >13800138000</td>
                        <td>
                        <span  class="ymfw-right-yhgl"> <a href ="javascript:void(0)" class="btn_code">修改</a> </span>
                        <span class="ymfw-right-yhgl"> <a href ="javascript:void(0)" class="btn_del">删除</a> </span>
                        <span class="ymfw-right-yhgl"><a href ="javascript:void(0)"  class="btn_swmr">设为默认</a> </span>
                        </td>
                    </tr>
                    <tr>
                        <td>陈欢欢</td>
                        <td>广东省广州市萝岗区区</td>
                        <td><p class="qy_shdz" title="科学大道162号B2栋5楼<">科学大道162号B2栋5楼</p></td>
                        <td>510000</td>
                        <td >13800138000</td>
                        <td>
                        <span  class="ymfw-right-yhgl"> <a href ="javascript:void(0)" class="btn_code">修改</a> </span>
                        <span class="ymfw-right-yhgl"> <a href ="javascript:void(0)" class="btn_del">删除</a> </span>
                        <span class="ymfw-right-yhgl"><a href ="javascript:void(0)"  class="btn_swmr">设为默认</a> </span>
                        </td>
                    </tr>
                </table>
             </div>
             <div class="yyzx_1" style="margin-right: 20px;">

                        <p class="yyzx_2"><a href="#"></a></p>
                        <p style="margin-left:5px; margin-right:5px;">1/10</p>
                        <p class="yyzx_3"><a href="#"></a></p>
                        <p style="margin-left:12px; margin-right:8px;"><input type="text" name="textfield" class="input_58" id="textfield" /></p>
                        <p class="ymfw-right-zgj_7"><a href="#">跳转</a></p>
               </div>
          </div>
            <div class="clear"></div>
        </div>
    </div>	
    <!--用码服务右边-->  
    
</div>
<!--主框架-->
<script type="text/javascript" src="js/jquery-1.12.3.min.js"></script>
<script type="text/javascript" src="js/layer/layer.js"></script>
<script type="text/javascript" src="js/My97DatePicker/WdatePicker.js"></script>
<script type="text/javascript" src="js/validation.js"></script>
<script type="text/javascript" src="js/common.js"></script>
<script type="text/javascript">
//删除
    $('a.btn_del').on('click',function(){
		fyConfirm({
			layer:layer,
			content:'确定删除地址吗？',
			handleOk:function(){/*点【确定】按钮回调*/},
			handleCancel:function(){/*点【取消】按钮回调*/}
		});
	});
//禁用
    $('a.btn_jy').on('click',function(){
		fyConfirm({
			layer:layer,
			content:'确定禁用账号吗？',
			handleOk:function(){/*点【确定】按钮回调*/},
			handleCancel:function(){/*点【取消】按钮回调*/}
		});
	});
//启用
    $('a.btn_qy').on('click',function(){
		fyConfirm({
			layer:layer,
			content:'确定启用此账号吗？',
			handleOk:function(){/*点【确定】按钮回调*/},
			handleCancel:function(){/*点【取消】按钮回调*/}
		});
	});

//新增收货地址
$('a.btn_code').on('click',function(){dialogAdd(this);});
$('a.btn_swmr').on('click',function(){
	$("a.btn_swmr").html('设为默认').css('background','#fff');
	$(this).html('默认地址').css('background','#f5f5f5');	
});
function dialogAdd(myobj){
  var id=$(myobj).attr('data-id');
  var content='<div class="ycgl_tc_1">'+
                   '<ul>'+
                       '<li style=" line-height:22px;">'+
                       		'<p ><span class="qy_shdz_2"><em>*</em>所在地区：</span> <span><select name="province" class="qy_ddglxzdz_3" id="select"><option>选择省</option></select></span> <span style=" margin:0 10px;"><select name="city" class="qy_ddglxzdz_3" id="select"><option>选择市</option></select></span> <span><select name="district" class="qy_ddglxzdz_3" id="select"><option value="-">选择区</option><option value="2">天河</option></select></p>'+
                       '</li>'+
					    '<li style=" line-height:22px;">'+
                        	'<p ><span class="qy_shdz_2"><em>*</em>详细地址：</span> <span><input type="text"  name="detailed" class="qy_ddglxzzr_2" /></span></p>'+
							'<p ><span class="qy_shdz_2">邮政编码：</span> <span><input type="text"  name="zipcode" class="qy_ddglxzzr_2" /></span></p>'+
                       '</li>'+
					   '<li style=" line-height:22px;">'+
                        	'<p ><span class="qy_shdz_2"><em>*</em>收货人姓名：</span> <span><input type="text"  name="accept_name" class="qy_ddglxzzr_2" /></span></p>'+
							'<p ><span class="qy_shdz_2"><em>*</em>联系电话：</span> <span><input type="text"  name="telephone" class="qy_ddglxzzr_2" /></span></p>'+
                       '</li>'+
					   
					  
					   '<li style=" line-height:22px;">'+
                        	'<p><label class="qy_shdz_3"><span style=" margin-top:5px; margin-right:3px;"><input type="checkbox" name="checkbox" id="checkbox" /> </span> <span> 设为默认地址</span></label></p>'+
                       '</li>'+
					  
                '</ul>'+
            '</div>';
  fyDialogCode({
    layer:top.layer,
    title:'新增收货地址',
    width:'520px',
	height:'320px',
    content:content,
    handleSuccess:function(layero,index){/*弹窗出现后回调*/
    },
    handleOk:function(erro,layero,index){
      /*点【保存】按钮回调*/
      //erro.html('请输入有效姓名');
      var formdata={
    				province:$('select[name="province"]',layero).val(),
    				city:$('select[name="city"]',layero).val(),
					district:$('select[name="district"]',layero).val(),
					detailed:$('input[name="detailed"]',layero).val(),
					zipcode:$('input[name="zipcode"]',layero).val(),
					accept_name:$('input[name="accept_name"]',layero).val(),
					telephone:$('input[name="telephone"]',layero).val(),
					
				};
      console.log(formdata);
	if(!formValid(formdata,erro)){
		return false;
	}
      //到此检测通过，提交form到后端
      var params={
        url:'',
        type:'post',
        data:formdata,
        success:function(res){
          console.log(res);
        },
        dataType:'json'
      };
	   var waiting_obj=new waiting({doc:document,layer:layer});
  	   waiting_obj.start();
      //setTimeout(function(){waiting_obj.stop();},2000);//处理完成后，关闭waiting_obj.stop();
      $.ajax(params);
    },
    handleCancel:function(layero,index){
      /*点【取消】按钮回调*/
    }
  });
}
//验证
function formValid(form,erro){
	var err=erro;	
	if(form.district=='-'){
		err.html('请选择地址');
		return false;
	}else{
		err.empty();
	}
	if(valid_test.isEmpty(form.detailed)||valid_test.isOverLength(form.detailed,50)){
		erro.html('请输入有效地址，50字符以内');
		return false;
	}else{
		erro.empty();
	}
	if(!valid_test.isEmpty(form.zipcode)&&(!valid_test.isNum(form.zipcode)||!/^[1-9]\d{5}$/g.test(form.zipcode))){
		err.html('请输入数字');
		return false;
	}else{
		err.empty();
	}
	if(valid_test.isEmpty(form.accept_name)){
		err.html('请输入收货人');
		return false;
	}else{
		err.empty();
	}
	if(!valid_test.mobile(form.telephone)){
		err.html('请输入有效手机号');
		return false;
	}else{
		err.empty();
	}
	
	
	
	return true;
}
</script>
</body>
</html>
